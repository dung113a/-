@{
    Layout = null;
}

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Groups - Cado</title>
    <link href="/css/GroupsStyles.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300;400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="group-page">
        <!-- Sidebar -->
        <div class="sidebar">
            <ul class="menu">
                <li>
                    <button onclick="window.location.href='';" class="nav-btn">
                        <i>🏠</i> Personal Page
                    </button>
                </li>
                <li>
                    <button onclick="window.location.href='/Account/Logout';" class="nav-btn">
                        <i>🚪</i> Logout
                    </button>
                </li>
            </ul>
        </div>

        <!-- Group Column -->
        <div class="group-column">
            <!-- Section A: Groups You've Joined -->
            <div class="group-section">
                <h3 class="section-title">Groups You've Joined (A)</h3>
                <div class="group-content">
                    <ul id="joinedGroupList" class="group-list">
                        <li onclick="loadGroupDetails('Group 1', false)">Group 1</li>
                        <li onclick="loadGroupDetails('Group 2', false)">Group 2</li>
                        <li onclick="loadGroupDetails('Group 3', false)">Group 3</li>
                    </ul>
                    <button class="action-btn" onclick="openPopup('joinGroupPopup')">Join a Group</button>
                </div>
            </div>

            <!-- Section B: Groups You've Created -->
            <div class="group-section">
                <h3 class="section-title">Groups You've Created (B)</h3>
                <div class="group-content">
                    <ul id="createdGroupList" class="group-list">
                        <li onclick="loadGroupDetails('Group A', true)">Group A</li>
                        <li onclick="loadGroupDetails('Group B', true)">Group B</li>
                    </ul>
                    <button class="action-btn" onclick="openPopup('createGroupPopup')">Create a Group</button>
                </div>
            </div>
        </div>

        <!-- Popup Templates -->
        <div id="joinGroupPopup" class="popup hidden">
            <div class="popup-content">
                <h3>Join a New Group</h3>
                <form onsubmit="addJoinedGroup(event)">
                    <label for="joinGroupID">Enter Group ID:</label>
                    <input type="text" id="joinGroupID" placeholder="Group ID" required>
                    <button type="submit">Join</button>
                    <button type="button" onclick="closePopup('joinGroupPopup')">Cancel</button>
                </form>
            </div>
        </div>

        <div id="createGroupPopup" class="popup hidden">
            <div class="popup-content">
                <h3>Create a New Group</h3>
                <form onsubmit="addCreatedGroup(event)">
                    <label for="createGroupName">Group Name:</label>
                    <input type="text" id="createGroupName" placeholder="Enter Group Name" required>
                    <button type="submit">Create</button>
                    <button type="button" onclick="closePopup('createGroupPopup')">Cancel</button>
                </form>
            </div>
        </div>

        <!-- Add Member Popup -->
        <div id="addMemberPopup" class="popup hidden">
            <div class="popup-content">
                <h3>Add Member</h3>
                <form onsubmit="addMember(event)">
                    <label for="newMemberName">Enter Member Name:</label>
                    <input type="text" id="newMemberName" placeholder="Member Name" required>
                    <button type="submit">Add</button>
                    <button type="button" onclick="closePopup('addMemberPopup')">Cancel</button>
                </form>
            </div>
        </div>

        <!-- Remove Member Popup -->
        <div id="removeMemberPopup" class="popup hidden">
            <div class="popup-content">
                <h3>Remove Member</h3>
                <ul id="removeMemberList" class="group-list"></ul>
                <button class="action-btn" onclick="removeSelectedMember()">Remove Selected Member</button>
                <button type="button" onclick="closePopup('removeMemberPopup')">Cancel</button>
            </div>
        </div>

        <!-- Content Column -->
        <div class="content-column">
            <h3>Group Details</h3>
            <!-- Tabs -->
            <div class="tabs">
                <button class="tab active" data-tab="tab1" onclick="showTabContent('tab1')">Members</button>
                <button class="tab" data-tab="tab2" onclick="showTabContent('tab2')">Vocabulary</button>
                <button class="tab" data-tab="tab3" onclick="showTabContent('tab3')">Practice</button>
                <button class="tab" data-tab="tab4" onclick="showTabContent('tab4')">Settings</button>
            </div>

            <!-- Tab Content -->
            <div class="tab-content" id="tab-content">
                <div id="tab1-content" class="tab-pane active">
                    <div class="member-list">
                        <h4>Member List</h4>
                        <ul id="groupMemberList"></ul>
                    </div>

                    <div class="manage-members">
                        <h4>Manage Your Group Members</h4>
                        <div id="manageMembersSection">
                            <div class="member-actions">
                                <button class="action-btn" onclick="openPopup('addMemberPopup')">Add Member</button>
                                <button class="action-btn" onclick="openRemoveMemberPopup()">Remove Member</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div id="tab2-content" class="tab-pane hidden content-placeholder"></div>
                <div id="tab3-content" class="tab-pane hidden content-placeholder"></div>
                <div id="tab4-content" class="tab-pane hidden content-placeholder"></div>
            </div>

            <div class="fixed-section">
                <div class="chart-container">
                    <h4>Activity Chart</h4>
                    <canvas id="memberChart" width="400" height="200"></canvas>
                </div>

                <div class="achievement-table">
                    <h4>Achievements</h4>
                    <table>
                        <thead>
                            <tr><th>Member</th><th>Points</th><th>Rank</th></tr>
                        </thead>
                        <tbody>
                            <tr><td>Member 1</td><td>120</td><td>1</td></tr>
                            <tr><td>Member 2</td><td>95</td><td>2</td></tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/js/Groupscript.js" defer></script>
</body>
</html>
